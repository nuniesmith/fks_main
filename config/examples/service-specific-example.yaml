# Example of service-specific configuration
# This shows how different services can use the service_specific section

# Example 1: fks_execution (exchange configuration)
---
service:
  name: fks_execution
  port: 8004
  environment: development
  log_level: INFO

service_specific:
  exchanges:
    - name: binance
      api_key: ""  # Use FKS_EXCHANGE_BINANCE_API_KEY environment variable
      api_secret: ""  # Use FKS_EXCHANGE_BINANCE_API_SECRET environment variable
      sandbox: true
      rate_limit: 1200  # Requests per minute
    - name: kraken
      api_key: ""  # Use FKS_EXCHANGE_KRAKEN_API_KEY environment variable
      api_secret: ""  # Use FKS_EXCHANGE_KRAKEN_API_SECRET environment variable
      sandbox: false
      rate_limit: 15  # Requests per 15 seconds
  default_exchange: binance
  order_timeout: 30  # seconds
  max_retries: 3

---

# Example 2: fks_training (ML training configuration)
---
service:
  name: fks_training
  port: 8005
  environment: development
  log_level: INFO

service_specific:
  training:
    batch_size: 32
    epochs: 100
    learning_rate: 0.001
    device: "cuda"  # or "cpu"
    model_save_path: "./models"
    checkpoint_interval: 10  # Save checkpoint every N epochs
  data:
    train_split: 0.8
    val_split: 0.1
    test_split: 0.1
    data_path: "./data/training"
  hyperparameters:
    optimizer: "adam"
    loss_function: "mse"
    metrics: ["accuracy", "precision", "recall"]

---

# Example 3: fks_data (data collection configuration)
---
service:
  name: fks_data
  port: 8003
  environment: development
  log_level: INFO

database:
  host: localhost
  port: 5432
  name: fks_data_db
  user: fks_user
  password: ""  # Use FKS_DATABASE_PASSWORD environment variable

redis:
  host: localhost
  port: 6379
  db: 0
  password: ""  # Use FKS_REDIS_PASSWORD environment variable

service_specific:
  data_sources:
    - name: binance
      type: "exchange"
      enabled: true
      update_interval: 60  # seconds
      symbols: ["BTC/USDT", "ETH/USDT"]
    - name: coinbase
      type: "exchange"
      enabled: false
      update_interval: 60
      symbols: ["BTC/USD", "ETH/USD"]
    - name: news_api
      type: "news"
      enabled: true
      update_interval: 300  # 5 minutes
      api_key: ""  # Use FKS_NEWS_API_KEY environment variable
  cache_ttl: 3600  # seconds
  batch_size: 1000
  max_workers: 4

---

# Example 4: fks_portfolio (portfolio management configuration)
---
service:
  name: fks_portfolio
  port: 8012
  environment: development
  log_level: INFO

service_specific:
  portfolio:
    btc_allocation: 0.55  # 55% BTC allocation
    rebalance_threshold: 0.05  # Rebalance if allocation differs by 5%
    rebalance_interval: 86400  # Check rebalance daily (seconds)
    max_position_size: 0.1  # Max 10% per position
    risk_limit: 0.02  # Max 2% risk per trade
  strategies:
    - name: "btc_dca"
      enabled: true
      allocation: 0.3
    - name: "momentum"
      enabled: true
      allocation: 0.2
    - name: "mean_reversion"
      enabled: false
      allocation: 0.1

